<div class="page-header">
  <h1>Book a meeting</h1>
  <p class="lead">Tired of running into full calendars?
    <br>This tool helps you finding the perfect spot for a group of busy people.</p>
</div>

<form class="form-group">
  <div class="col-sm-10">
    <input id="emailInput" name="emailInput" placeholder="Email..."
      class="form-control"
      [(ngModel)]="participant.email"
      [typeahead]="dataSource"
      (typeaheadLoading)="changeTypeaheadLoading($event)"
      (typeaheadNoResults)="changeTypeaheadNoResults($event)"
      (typeaheadOnSelect)="typeaheadOnSelect($event)"
      [typeaheadOptionsLimit]="10"
      [typeaheadOptionField]="'name'">
    </div>
  <button class="btn btn-default" type="submit" (click)="onAdd()">Add</button>
</form>

<table class="table table-striped table-condensed">
  <tr>
    <th>Participant</th>
    <th>Priority</th>
    <th></th>
  </tr>
  <tr *ngFor="let participant of booking.participants; let i=index" name="participants">
    <td *ngIf="participant.name">{{participant.name}} ({{participant.email}})</td>
    <td *ngIf="!participant.name">{{participant.email}}</td>
    <td>
        <select class="form-control input-sm" required
        [(ngModel)]="participant.attendanceLevel" name="level--{{i}}">
           <option *ngFor="let lev of levels" [ngValue]="lev">
             {{lev.name}}
           </option>
        </select>
    </td>
    <td class="col-lg-1">
      <button type="button" class="btn btn-default" aria-label="Remove"
        (click)="onRemove(i)">
        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
      </button>
    </td>
  </tr>
</table>


<form>
  <div class="form-group">
    <button type="submit" class="btn btn-default" (click)="onSearch()">Search...</button>
  </div>
</form>
